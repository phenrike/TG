CREATE TABLE Usuario
(
ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT, 
LOGIN VARCHAR(100) NOT NULL UNIQUE, 
SENHA VARCHAR(100) NOT NULL, 
NOME VARCHAR(200) NOT NULL, 
SEXO VARCHAR(10),
DTINSCRICAO DATETIME(6)
);

CREATE TABLE Compartilhamento
(
ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT, 
EMISSOR INT NOT NULL,
RECEPTOR INT NOT NULL,
DATAEHORA DATETIME,
FOREIGN KEY (EMISSOR)
        REFERENCES Usuario(ID)
        ON DELETE CASCADE,
FOREIGN KEY (RECEPTOR)
        REFERENCES Usuario(ID)
        ON DELETE CASCADE
);

CREATE TABLE Redesocial
(
ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOME VARCHAR(200) NOT NULL
);

CREATE TABLE Username
(
ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
IDUSUARIO INT NOT NULL,
IDREDESOCIAL INT NOT NULL,
NOMEUSUARIO VARCHAR(300),
PRIVADO BOOLEAN,
FOREIGN KEY (IDUSUARIO)
        REFERENCES Usuario(ID)
        ON DELETE CASCADE,
FOREIGN KEY (IDREDESOCIAL)
        REFERENCES Redesocial(ID)
        ON DELETE CASCADE
);

INSERT INTO Usuario VALUES(0, 'psantos', '12345', 'Paulo Santos', 'Masculino', NOW());

INSERT INTO Redesocial VALUES(0, 'FACEBOOK');
INSERT INTO Redesocial VALUES(0, 'WHATSAPP');
INSERT INTO Redesocial VALUES(0, 'INSTAGRAM');
INSERT INTO Redesocial VALUES(0, 'SNAPCHAT');
INSERT INTO Redesocial VALUES(0, 'TWITTER');
INSERT INTO Redesocial VALUES(0, 'YOUTUBE');
INSERT INTO Redesocial VALUES(0, 'EMAIL');
INSERT INTO Redesocial VALUES(0, 'LINK');


INSERT INTO Username VALUES(0, 1, 1, 'phenrikeps', 0);

select * from Usuario u inner join username un on u.id = un.idusuario where un.nomeusuario like '%p%' and un.idredesocial = 1;